import { Application } from "../deps.ts";
import router from './routes/router.ts';
import logger from './logger.ts';
const api = new Application();
const certFile = Deno.env.get("CERT_FILE") || "./cert/server.crt";
const keyFile = Deno.env.get("KEY_FILE") || "./cert/server.pem";
const options = {
    port: 8080,
    secure: true,
    certFile: certFile,
    keyFile: keyFile
};
console.log("Starting server...", options.port);
// use logger
api.use(logger);
// routes
api.use(router.routes());
// listen
await api.listen(options);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxZQUFZLENBQUE7QUFFdEMsT0FBTyxNQUFNLE1BQU0sb0JBQW9CLENBQUE7QUFDdkMsT0FBTyxNQUFNLE1BQU0sYUFBYSxDQUFBO0FBRWhDLE1BQU0sR0FBRyxHQUFHLElBQUksV0FBVyxFQUFFLENBQUE7QUFFN0IsTUFBTSxRQUFRLEdBQVUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLElBQUksbUJBQW1CLENBQUE7QUFDeEUsTUFBTSxPQUFPLEdBQVUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksbUJBQW1CLENBQUE7QUFFdEUsTUFBTSxPQUFPLEdBQUM7SUFDWixJQUFJLEVBQUMsSUFBSTtJQUNULE1BQU0sRUFBRSxJQUFJO0lBQ1osUUFBUSxFQUFFLFFBQVE7SUFDbEIsT0FBTyxFQUFFLE9BQU87Q0FDakIsQ0FBQTtBQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO0FBRS9DLGFBQWE7QUFDYixHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQ2YsU0FBUztBQUNULEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUE7QUFDeEIsU0FBUztBQUNULE1BQU0sR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQSJ9